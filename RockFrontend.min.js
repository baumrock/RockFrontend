"use strict";(()=>{let timer;RockFrontend.debounce=function(func,timeout=300){clearTimeout(timer);timer=setTimeout(()=>{func()},timeout)}})();(()=>{function Consent(){}
var C=new Consent();Consent.prototype.each=function(items,callback){for(var i=0;i<items.length;i++)callback(items[i]);};Consent.prototype.getStorage=function(){let data=localStorage.getItem("rockfrontend-consent")||"{}";return JSON.parse(data)};Consent.prototype.isEnabled=function(name){return!!this.getStorage()[name]};Consent.prototype.init=function(){let show=document.querySelectorAll("[data-rfc-show]");this.each(show,function(container){let name=container.getAttribute("data-rfc-show");if(!C.isEnabled(name))return;container.removeAttribute("hidden");let el=container.querySelector("[rfconsent-src]");let src=el.getAttribute("rfconsent-src");el.setAttribute("src",src)});let enable=document.querySelectorAll("[rfconsent-src]");this.each(enable,function(el){let name=el.getAttribute("rfconsent");let optout=el.getAttribute("rfconsent-type")=="optout";if(optout&&typeof C.getStorage()[name]=="undefined"){C.save(name,!0)}
if(!C.isEnabled(name))return;let src=el.getAttribute("rfconsent-src");el.setAttribute("src",src)});let hide=document.querySelectorAll("[data-rfc-hide]");this.each(hide,function(container){let name=container.getAttribute("data-rfc-hide");if(C.isEnabled(name)){container.setAttribute("hidden",!0)}else{container.removeAttribute("hidden")}});let checkboxes=document.querySelectorAll(".rf-consent-checkbox");this.each(checkboxes,(cb)=>{let name=cb.getAttribute("data-name");if(this.isEnabled(name)){cb.setAttribute("checked","checked")}else{cb.removeAttribute("checked")}})};Consent.prototype.save=function(name,value){let storage=this.getStorage();storage[name]=value;localStorage.setItem("rockfrontend-consent",JSON.stringify(storage))};document.addEventListener("change",function(e){let cb=e.target;if(!cb.classList.contains("rf-consent-checkbox"))return;let name=cb.getAttribute("data-name");C.save(name,cb.checked);C.init()});document.addEventListener("click",(e)=>{let el=e.target.closest("[rfc-allow]");if(!el)return;e.preventDefault();let name=el.getAttribute("rfc-allow");C.save(name,!0);C.init()});let allowAttached=!1;document.addEventListener("click",(e)=>{let el=e.target.closest("[rfconsent-click]");if(!el)return;e.preventDefault();let name=el.getAttribute("rfconsent");let click=el.getAttribute("rfconsent-click");let allow=el.getAttribute("rfconsent-allow");let ask=el.getAttribute("rfconsent-ask");if(C.isEnabled(name))document.querySelector(click).click();else{if(!allowAttached){document.addEventListener("click",(e)=>{if(!e.target.matches(allow))return;C.save(name,!0);document.querySelector(click).click()});allowAttached=!0}
document.querySelector(ask).click()}});RockFrontend.Consent=C;C.init()})();(function(){let scrollElements=document.querySelectorAll("[rf-scrollclass]");for(let i=0;i<scrollElements.length;i++){let el=scrollElements[i];let attrs=el.getAttribute("rf-scrollclass").split(" ");for(j=0;j<attrs.length;j++){let parts=attrs[j].split("@");if(parts.length!=2)return;let cls=parts[0];let y=parts[1]*1;window.addEventListener("scroll",function(){scrollpos=window.scrollY;if(scrollpos>=y)el.classList.add(cls);else el.classList.remove(cls)})}}})();(()=>{document.addEventListener("click",function(e){let click=e.target.closest("[rf-click]");if(!click)return;e.preventDefault();let selector=click.getAttribute("rf-click");let target=document.querySelector(selector);if(target)target.click();})})();(()=>{document.addEventListener("click",function(e){let toggle=e.target.closest("[rf-toggle]");if(!toggle)return;e.preventDefault();let selector=toggle.getAttribute("rf-toggle");let target=document.querySelector(selector);if(target.hasAttribute("hidden"))target.removeAttribute("hidden");else target.setAttribute("hidden","")})})()