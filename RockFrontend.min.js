"use strict";(()=>{function Consent(){}
var C=new Consent();Consent.prototype.each=function(items,callback){for(var i=0;i<items.length;i++)callback(items[i]);};Consent.prototype.getStorage=function(){let data=localStorage.getItem("rockfrontend-consent")||"{}";return JSON.parse(data)};Consent.prototype.isEnabled=function(name){return this.getStorage()[name]};Consent.prototype.init=function(){let show=document.querySelectorAll("[data-rfc-show]");this.each(show,function(container){let name=container.getAttribute("data-rfc-show");if(!C.isEnabled(name))return;container.removeAttribute("hidden");let el=container.querySelector("[rfconsent-src]");let src=el.getAttribute("rfconsent-src");el.setAttribute("src",src)});let enable=document.querySelectorAll("[rfconsent-src]");this.each(enable,function(el){let name=el.getAttribute("rfconsent-name");let optout=el.getAttribute("rfconsent")=="optout";if(optout&&typeof C.getStorage()[name]=="undefined"){C.save(name,!0)}
if(!C.isEnabled(name))return;let src=el.getAttribute("rfconsent-src");el.setAttribute("src",src)});let hide=document.querySelectorAll("[data-rfc-hide]");this.each(hide,function(container){let name=container.getAttribute("data-rfc-hide");if(C.isEnabled(name)){container.setAttribute("hidden",!0)}else{container.removeAttribute("hidden")}});let checkboxes=document.querySelectorAll(".rf-consent-checkbox");this.each(checkboxes,(cb)=>{let name=cb.getAttribute("data-name");if(this.isEnabled(name)){cb.setAttribute("checked","checked")}else{cb.removeAttribute("checked")}})};Consent.prototype.save=function(name,value){let storage=this.getStorage();storage[name]=value;localStorage.setItem("rockfrontend-consent",JSON.stringify(storage))};document.addEventListener("change",function(e){let cb=e.target;if(!cb.classList.contains("rf-consent-checkbox"))return;let name=cb.getAttribute("data-name");C.save(name,cb.checked);C.init()});document.addEventListener("click",(e)=>{let el=e.target.closest("[rfc-allow]");if(!el)return;e.preventDefault();let name=el.getAttribute("rfc-allow");C.save(name,!0);C.init()});RockFrontend.Consent=C;C.init()})()