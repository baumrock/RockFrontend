# SEO Tools

RockFrontend comes with tools that help you build SEO optimized websites in no time.

## Concept

The Concept of RockFrontend's SEO tools differ from many other solutions where you add many fields to every template and then have the user fill all these fields.

This might be the best solution in terms of search engine rankings but it is not the best solution in terms of efficiency in my opinion. In all websites that I develop **I usually have the content for those SEO fields already available** in one field or another.

So what RockFrontend's SEO Tools do is to make it super simple to grab the available content and turn it into state of the art SEO markup!

<div class=uk-alert>Note: In the future we might also add custom inputfields for the user to overwrite values generated by RockFrontend. What do you think? Let me know in the forum!</div>

## Usage

While you can customise every aspect of the output the main goal is that usage is still very simple. You can even use it without any customizations:

`label: usage with default settings`
```php
<head>
<?php echo $rockfrontend->seo(); ?>
</head>
```

Just inspect the generated HTML markup and then further adjust settings to your needs. RockFrontend will take care of the tedious parts!

For example you can simply return a `PageImage` object in the `og:image` callback and RockFrontend will take care of creating the correct image size and return the correct url necessary for SEO tags including the host scheme.

Or you can just throw the content of a TinyMCE field into the `description()` function and RockFrontend will take care of removing all html tags and truncating the text to the desired length.

An example used for the page that you are currently viewing could look something like this:

`label: /site/templates/_main.php`
```php
<head>
  ...
  <?php
  echo $rockfrontend->seo()

    ->title("RockFrontend - " . $page->title)

    ->description(function (Page $page) {
      if($page->template == 'docs') return $page->getDocs();
      return $page->body;
    })

    ->setValue('og:image', function (Page $page) {
      if($page->coverpic) return $page->coverpic;
      if($page->heroimage) return $page->heroimage;
      return $this->wire->pages->get(1)->defaultpic;
    });
  ?>
</head>
```

`label: output`
```html
  <title>RockFrontend - SEO Tools</title>
  <meta property="og:title" content="RockFrontend - SEO Tools">
  <meta name="description" content="SEO Tools; RockFrontend comes with...">
  <meta property="og:description" content="SEO Tools; RockFrontend comes with...">
  <link rel='icon' type='image/png' sizes='32x32' href=/site/assets/files/1/favicon.32x32.png>
  <link rel='icon' type='image/png' sizes='16x16' href=/site/assets/files/1/favicon.16x16.png>
  <link rel='icon' type='image/png' sizes='48x48' href=/site/assets/files/1/favicon.48x48.png>
  <link rel='icon' type='image/png' sizes='192x192' href=/site/assets/files/1/favicon.192x192.png>
  <link rel='apple-touch-icon' type='image/png' sizes='167x167' href=/site/assets/files/1/favicon.167x167.png>
  <link rel='apple-touch-icon' type='image/png' sizes='180x180' href=/site/assets/files/1/favicon.180x180.png>
  <link rel="manifest" href="/website.webmanifest">
```

Most values can either be set as string (for simple situations like the `title` in the example above) or as a callback that receives the current `$page` as first argument (like in the `description` in the example above).

## Default Configuration

If you don't want to use the default configuration, all tags are fully configurable. The default configuration can be inspected by dumping the RockFrontend Seo object:

```php
bd($rockfrontend->seo());
```

<img src=seo.png class=blur alt='Default SEO Configuration'>

The recommendations are mostly inspired from https://moz.com/learn/seo.

You can manipulate tags via `setMarkup()` and `setValue()`:

### setMarkup()

Let's say we wanted to add a new `foo` tag to our SEO tools:

```php
$rockfrontend->seo()
  ->setMarkup("foo", "<meta property='foo' content='{value:20}'>");
```

### setValue()

Now we can set a new value for the `foo` tag based on the page's title:

`label: string`
```php
$rockfrontend->seo()
  ->setValue($page->title);
```

Note that as we defined `{value:20}` in the tag's markup the page title will be truncated to 20 characters!

## Page Title

The page title can either be set as a string or as a callback:

`label: string`
```php
$rockfrontend->seo()->title($page->title);
```

`label: callback`
```php
$rockfrontend->seo()
  ->title(function ($page) {
    if ($page->headline) return "{$page->title} - {$page->headline}";
    return $page->title;
  });
```

This will not only set the `<title>` tag but also the `og:title` tag:

`label: output`
```html
<title>RockFrontend - SEO Tools</title>
<meta property="og:title" content="RockFrontend - SEO Tools">
```

## Page Description

The same concept applies to the page description tag:

`label: string`
```php
$rockfrontend->seo()->description($page->body);
```

`label: callback`
```php
$rockfrontend->seo()
  ->description(function ($page) {
    if ($page->template == 'car') return $page->cardescription;
    return $page->body;
  });
```

`label: output`
```html
<meta name="description" content="Your Page Description">
<meta property="og:description" content="Your Page Description">
```

## Favicon and OG Image

Good buy favicon generators, hello RockFrontend! ðŸ˜Ž

RockFrontend can create a `favicon` and an `og:image` field for you if you have the `RockMigrations` module installed:

<img src=seofields.png class=blur alt="RockFrontend SEO Fields">

These fields will be added to the `home` template and if populated those files will be used in your SEO markup! The favicon must be PNG so that ProcessWire can create all the necessary icon size variations for you. SVG is not supported here. If you want to use an svg favicon simply add that tag manually to your markup.

An example output could look like this:

```html
<link rel='icon' type='image/png' sizes='32x32' href=/site/assets/files/1/favicon.32x32.png>
<link rel='icon' type='image/png' sizes='16x16' href=/site/assets/files/1/favicon.16x16.png>
<link rel='icon' type='image/png' sizes='48x48' href=/site/assets/files/1/favicon.48x48.png>
<link rel='icon' type='image/png' sizes='192x192' href=/site/assets/files/1/favicon.192x192.png>
<link rel='apple-touch-icon' type='image/png' sizes='167x167' href=/site/assets/files/1/favicon.167x167.png>
<link rel='apple-touch-icon' type='image/png' sizes='180x180' href=/site/assets/files/1/favicon.180x180.png>

<meta property="og:image" content="https://www.example.com/site/assets/files/1/pexels-arnaud-vigne-13321059.1200x630.jpg">
<meta property="og:image:type" content="image/jpeg">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<meta property="og:image:alt" content="RockFrontend - SEO Tools">
```

All these tags are generated automatically! Note that the favicon urls are relative `/site/assets/...` whereas the og:image path is absolute `https://www...`.

But you don't need to know all that. RockFrontend does it for you! ðŸš€

## Website Manifest File

You can create your website's manifest file from the RockFrontend module config. RockFrontend will then add that manifest file to your site's `<head>` section which will make the website appear in your selected color theme:

<img src=manifest.jpg class=blur alt='Manifest File Preview' width=250>

<img src=manifest2.png class=blur alt='Manifest File Settings' width=250>
